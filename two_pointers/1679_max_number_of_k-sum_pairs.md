# 1679. Max Number of K-Sum Pairs

## 1.1. è§£é¡Œæ€è·¯

- **ç›®æ¨™**ï¼š
  - çµ¦å®šä¸€å€‹æ•´æ•¸é™£åˆ— `nums` å’Œæ•´æ•¸ `k`ï¼Œæ¯æ¬¡é¸æ“‡å…©å€‹æ•¸ï¼Œå…¶å’Œç­‰æ–¼ `k`ï¼Œä¸¦å°‡å…¶ç§»é™¤ã€‚è¿”å›å¯ä»¥åŸ·è¡Œçš„æœ€å¤§æ“ä½œæ¬¡æ•¸ã€‚
- **é™åˆ¶**ï¼š
  - ä½¿ç”¨éçš„æ•¸å­—éœ€å¾é™£åˆ—ä¸­ç§»é™¤ï¼Œå³æ•¸å­—åƒ…èƒ½é…å°ä¸€æ¬¡ã€‚
- **å•é¡Œæ‹†åˆ†**ï¼š
  - æ•¸çµ„æ˜¯å¦éœ€è¦æ’åºï¼Ÿ
  - å¦‚ä½•æ‰¾åˆ°æ•¸å°ï¼Ÿ
  - å¦‚ä½•è¨ˆæ•¸å’Œç§»é™¤ï¼Ÿ
- **åšæ³•**ï¼š
  - é›œæ¹Šè¡¨ï¼š
    - éæ­· `nums`ï¼Œè‹¥ç•¶å‰å€¼çš„è£œæ•¸ (`k - num`) å­˜åœ¨æ–¼é›œæ¹Šè¡¨ä¸­ï¼Œè©²è£œæ•¸è¨ˆæ•¸æ¸›ä¸€ï¼Œä¸¦å¢åŠ é…å°æ¬¡æ•¸ï¼›åä¹‹ï¼Œå°‡ç•¶å‰å€¼ç´€éŒ„åœ¨é›œæ¹Šè¡¨ä¸­ã€‚
    - è¿”å›é…å°ç¸½æ¬¡æ•¸
  - é›™æŒ‡é‡ï¼š
  - éœ€å°‡ `nums` æ­£åºæ’åºå¾Œï¼Œåˆ¤æ–·å…©æ•¸å’Œè‹¥ç­‰æ–¼ `k`ï¼Œå‰‡é…å°æ¬¡æ•¸åŠ ä¸€ï¼›å¤§æ–¼ `k`ï¼Œå³æŒ‡é‡å¾€å·¦ç§»å‹•ï¼›å°æ–¼ `k`ï¼Œå·¦æŒ‡é‡å¾€å³ç§»å‹•ã€‚

## 1.2. ç¨‹å¼ç¢¼å¯¦ä½œ

### é›œæ¹Šè¡¨

- è¤‡é›œåº¦åˆ†æ
  - æ™‚é–“è¤‡é›œåº¦ï¼š ğ‘‚(ğ‘›)ï¼Œå› ç‚ºæ¯å€‹å…ƒç´ æœ€å¤šéæ­·ä¸€æ¬¡ã€‚
  - ç©ºé–“è¤‡é›œåº¦ï¼š ğ‘‚(ğ‘›)ï¼Œå–æ±ºæ–¼å“ˆå¸Œè¡¨çš„å¤§å°ã€‚

```php
class Solution {

    /**
     * @param Integer[] $nums
     * @param Integer $k
     * @return Integer
     */
    function maxOperations($nums, $k) {
        $operations = 0;
        $hash_table = [];

        foreach ($nums as $num) {
            $complement = $k - $num;

            if (isset($hash_table[$complement]) && $hash_table[$complement] > 0) {
                $operations += 1;
                $hash_table[$complement] -= 1;
            } else {
                if (!isset($hash_table[$num])) {
                    $hash_table[$num] = 0;
                }
                $hash_table[$num] += 1;
            }
        }
        return $operations;
    }
}
```

### é›™æŒ‡é‡

- è¤‡é›œåº¦åˆ†æ
  - **æ™‚é–“è¤‡é›œåº¦**ï¼š
    1. æ’åºéƒ¨åˆ†
         - é›™æŒ‡é‡è§£æ³•çš„æ™‚é–“è¤‡é›œåº¦ä¸»è¦ä¾†æºç‚ºæ’åº
         - å‡è¨­æ•´æ•¸é™£åˆ—é•·åº¦ç‚º `ğ‘›`ï¼Œä¸»æµæ’åºï¼ˆå¦‚å¿«é€Ÿæ’åºã€åˆä½µæ’åºï¼‰çš„æ™‚é–“è¤‡é›œåº¦ç‚º `ğ‘‚(ğ‘›logâ¡ğ‘›)`ã€‚

    2. é›™æŒ‡é‡éƒ¨åˆ†
         - æ’åºå®Œæˆå¾Œï¼Œå·¦å³å…©æŒ‡é‡å‘ä¸­é–“ç§»å‹•ï¼Œæœ€å¤šç§»å‹• ğ‘› æ­¥ã€‚
         - éæ­·æ•´çµ„é™£åˆ—çš„æ™‚é–“è¤‡é›œåº¦ç‚º `ğ‘‚(ğ‘›)`ã€‚

    æ•´é«”æ™‚é–“è¤‡é›œåº¦ç‚ºï¼š `ğ‘‚(ğ‘›logâ¡ğ‘›) * ğ‘‚(ğ‘›) = ğ‘‚(ğ‘›logâ¡ğ‘›)`

  - **ç©ºé–“è¤‡é›œåº¦**ï¼š `ğ‘‚(1)`

```php
class Solution {
    /**
     * @param Integer[] $nums
     * @param Integer $k
     * @return Integer
     */
    function maxOperations($nums, $k) {
        $left = 0;
        $right = count($nums) - 1;
        $operations = 0;
        sort($nums);

        while ($left < $right) {
            $sum = $nums[$left] + $nums[$right];

            if ($sum == $k) {
                $operations += 1;
                $left += 1;
                $right -= 1;
            } elseif ($sum < $k) {
                $left += 1;
            } else {
                $right -= 1;
            }
        }

        return $operations;
    }
}
```

## 1.3. è§£æ³•å„ªåŒ–
